<h2>Login HaziVault</h2>
<form id="loginForm">
  <input name="username" placeholder="Username" required>
  <input type="password" name="password" placeholder="Password" required>
  <button>Login</button>
</form>

<script>
document.getElementById('loginForm').onsubmit = async e => {
  e.preventDefault();
  const fd = new FormData(e.target);
  const data = Object.fromEntries(fd);
  const res = await fetch('/api/auth/login', {
    method: 'POST',
    headers: {'Content-Type':'application/json'},
    body: JSON.stringify(data)
  });
  const json = await res.json();
  alert(json.success ? 'Login successful' : 'Login failed');
  if (json.success) window.location = '/';
};
</script>
